# 收入与投资管理系统需求文档

## 一、整体目标

本系统用于帮助用户管理工资收入、个人所得税、社保与公积金缴纳，以及投资账户收益情况。  
目标是实现 **精确计算税负** 与 **投资收益监控**，并支持杭州等城市的本地化政策配置。

---

## 二、城市配置与数据管理

### 功能

- 用户可在页面上设置：

  - 所在城市（默认杭州）
  - 默认货币（如人民币 CNY）

- 系统需提供统一页面管理不同城市的 **社保、公积金规则**：
  - 可展示基数上下限、缴纳比例、单位/个人分担情况
  - 数据需支持 **版本管理**（按生效时间段记录）
  - 若无更早数据，则默认使用最老的一份配置

---

## 三、杭州（2025 年）政策参数

### 1. 社保（五险）

- **缴费基数上下限**：
  - 下限：4812 元/月
  - 上限：24930 元/月
- **缴费比例（示例，最低基数）**：
  - 养老：单位 14%，个人 8%
  - 医疗：单位 9.5%，个人 2%
  - 失业：单位 0.5%，个人 0.5%
  - 工伤：单位 0.2%，个人不缴
  - 生育：单位 0.5%，个人不缴

### 2. 公积金

- **缴存基数范围**：
  - 下限：2490 元/月（杭州市区）
  - 上限：40694 元/月
- **缴存比例**：
  - 单位：5%–12%
  - 灵活就业人员：10%–24%
- **执行时间**：2025 年 7 月 1 日 – 2026 年 6 月 30 日

---

## 四、税率管理

### 七级超额累进税率（全年累计）

| 应纳税所得额（年） | 税率 | 速算扣除数 |
| ------------------ | ---- | ---------- |
| ≤ 36,000           | 3%   | 0          |
| 36,000–144,000     | 10%  | 2,520      |
| 144,000–300,000    | 20%  | 16,920     |
| 300,000–420,000    | 25%  | 31,920     |
| 420,000–660,000    | 30%  | 52,920     |
| 660,000–960,000    | 35%  | 85,920     |
| ＞ 960,000         | 45%  | 181,920    |

> 注：以上为国家个人所得税法标准梯度，用户可在系统中查看或修改（若政策有调整）。

---

## 五、应纳税所得额与税费计算逻辑

### 公式

- **应纳税所得额**  
  = 总收入（累计至本月）  
  – （社保 + 公积金 + 其他专项附加扣除）

- **税款计算**  
  应纳税额 × 对应税率 – 速算扣除数

### 功能

- 用户可输入每月收入，系统自动累计并扣除五险一金
- 系统匹配对应税率，输出本月及累计应纳税额、边际税率
- 可仿真不同月份收入变化的纳税影响

---

## 六、投资管理模块

### 功能目标

- 跟踪多个投资账户（券商、基金、理财等）
- 记录 **存款 / 取款 / 转账** 操作
- 根据账户估值与交易，计算本金、收益与收益率
- 支持多货币管理与汇率换算

### 核心计算逻辑

- **本金** = 初始资金 + 所有存款 – 所有取款
- **收益** = 当前估值 – 本金
- **收益率** = 收益 ÷ 本金

### 示例

1. 初始资金 1000 元，估值更新为 1200：

   - 本金 = 1000
   - 收益 = 200
   - 收益率 = 20%

2. 初始资金 1000 元，中途再存入 500 元，估值 1100：

   - 本金 = 1500
   - 收益 = -400
   - 收益率 = -26.67%

3. 初始资金 1000 元，中途取出 300 元，估值 1300：
   - 本金 = 700
   - 收益 = 600
   - 收益率 = 85.71%

---

## 七、页面结构设计建议

| 页面名称              | 功能概要                                             |
| --------------------- | ---------------------------------------------------- |
| **城市与全局设置页**  | 设置所在城市、货币                                   |
| **社保/公积金规则页** | 管理基数、比例及生效时间，支持版本查询               |
| **税率管理页**        | 展示与修改七级税率表                                 |
| **收入与纳税计算页**  | 输入收入，实时计算累计应纳税额与边际税率             |
| **投资账户管理页**    | 管理账户、存取款、估值，计算收益率，支持多货币与转账 |

---

## 八、总结

- 本系统需兼顾 **工资与税务管理** 和 **投资收益跟踪** 两大核心场景。
- 数据需结合 **杭州 2025 年最新社保与公积金政策**，并支持城市切换与历史版本管理。
- 功能覆盖“输入 → 扣除 → 匹配税率 → 输出税额”全链路，投资模块实现实时收益率计算。
